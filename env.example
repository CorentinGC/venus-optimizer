########################################
# Environnements (.env) — simplifié
#
# Convention:
# - SERVER_*: variables utilisées côté Node/serveur (simulation, RPC, etc.)
# - CLIENT_*: variables consommées dans le front (Vite injecte en build)
# - Sans préfixe: partagées si nécessaire (éviter si possible)
########################################

## ======= Serveur (Node) =======

# RPC BNB Chain (server)
SERVER_BSC_RPC_URL=https://bsc-dataseed.binance.org

# Clé privée (non requise pour dry-run / quote-swap)
SERVER_WALLET_PRIVATE_KEY=

# PancakeSwap v2 router / WBNB (server)
SERVER_PCS_V2_ROUTER=0x10ED43C718714eb63d5aA57B78B54704E256024E
SERVER_WBNB_ADDRESS=0xBB4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c

# Optionnel: surcharge d'adresses tokens (ADDR_<SYMBOL>)
#ADDR_USDT=0x55d398326f99059fF775485246999027B3197955
#ADDR_BUSD=0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56
#ADDR_USDC=0x8ac76a51cc950d9822d68b83fe1ad97b32cd580d
#ADDR_BTCB=0x7130d2a12b9bcbfae4f2634d864a1ee1ce3ead9c
#ADDR_ETH=0x2170Ed0880ac9A755fd29B2688956BD959F933F8
#ADDR_CAKE=0x0E09Fabb73Bd3Ade0a17ECC321fD13a19e81cE82

# Etherscan v2 API Key (server) — recommandé pour gas oracle multi-chaînes
SERVER_ETHERSCAN_API_KEY=

# Timeout des appels RPC (ms) pour éviter les blocages de quote (getAmountsOut, etc.)
# Valeur par défaut: 7000
SERVER_RPC_CALL_TIMEOUT_MS=7000

# PancakeSwap v3 Quoter (BSC): à renseigner pour activer v3 (sinon v2 par défaut)
# Exemple (à vérifier sur la doc PCS): 0xB048bE... (adresse Quoter/QuoterV2)
SERVER_PCS_V3_QUOTER=

# Frais v3 autorisés (bps), liste séparée par virgule (par défaut: 100,500,2500,10000)
SERVER_PCS_V3_FEE_TIERS=100,500,2500,10000

# Slippage par défaut (%) pour amountOutMin quand non spécifié en CLI
SERVER_DEFAULT_SLIPPAGE_PERCENT=0

# 1inch API (optionnel mais recommandé)
# v6 (dev) nécessite une API key (Bearer)
SERVER_ONEINCH_API_KEY=
SERVER_ONEINCH_V6_BASE_URL=https://api.1inch.dev/swap/v6.0
# fallback public v5
SERVER_ONEINCH_V5_BASE_URL=https://api.1inch.io/v5.0


# Venus Comptroller core (server)
SERVER_CORE_COMPTROLLER_ADDRESS=0xfd36e2c2a6789db23113685031d7f16329158384

# Paramétrage décision (server)
SERVER_MIN_NET_APY_DIFF_BPS=5

# Activer/désactiver la récupération d'historique APY (source externe)
# true|false (par défaut true)
SERVER_ENABLE_APY_HISTORY=true

# Logs NDJSON (server + front lit directement les fichiers)
SERVER_LOG_ACTIONS_PATH=logs/actions.ndjson
SERVER_LOG_BALANCE_PATH=logs/balance.ndjson
SERVER_LOG_BLOCKS_PATH=logs/per-block.ndjson
SERVER_LOG_STATE_PATH=logs/state.json
## Rotation (facultatif)
# Taille max avant rotation (octets). Si non défini: 10 MiB (actions/balance), 200 MiB (per-block)
#SERVER_LOG_MAX_BYTES=10485760
# Nombre max de fichiers rotés conservés (par fichier)
#SERVER_LOG_MAX_FILES=5

# Borrow monitor (server)
SERVER_LOG_BORROW_PATH=logs/borrow.ndjson
SERVER_BORROW_INTERVAL_HOURS=12
SERVER_BORROW_DAYS_LOOKBACK=365


# Pools snapshot (server)
# Exclure certaines pools du scan et forcer des tokens additionnels à être upsertés quotidiennement
# Listes acceptent des séparateurs virgule, point-virgule, espaces ou sauts de ligne
# Exemples:
# SERVER_SNAPSHOT_EXCLUDE_SYMBOLS=USDT, BUSD
# SERVER_SNAPSHOT_EXCLUDE_VTOKENS=0x123...,0xabc...
# SERVER_SNAPSHOT_EXCLUDE_UNDERLYINGS=0xdef...,0x456...
# SERVER_SNAPSHOT_EXTRA_TOKENS=pt-susde-26jun2025
SERVER_SNAPSHOT_EXCLUDE_SYMBOLS=
SERVER_SNAPSHOT_EXCLUDE_VTOKENS=
SERVER_SNAPSHOT_EXCLUDE_UNDERLYINGS=
SERVER_SNAPSHOT_EXTRA_TOKENS=pt-susde-26jun2025

## ======= Front (Client) =======

# Aucun besoin d'API URL: Vite plugin sert /api/* depuis les fichiers logs locaux en dev/preview
# Overrides facultatifs si l'auto-détection des logs ne convient pas:
# LOG_ACTIONS=../logs/actions.ndjson
# LOG_BALANCE=../logs/balance.ndjson
# CLIENT_LOG_ACTIONS_PATH=../logs/actions.ndjson
# CLIENT_LOG_BALANCE_PATH=../logs/balance.ndjson


## ======= Partagées =======
